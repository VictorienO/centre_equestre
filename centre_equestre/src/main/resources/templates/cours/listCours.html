<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Liste des Cours</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <link href="/css/style.css" rel="stylesheet" />
    <script src="/js/addMultipleCours.js" defer></script>
  </head>
  <body>
    <h1>Liste des Cours</h1>
    <table>
      <thead>
        <tr>
          <th>Discipline</th>
          <th>Date</th>
          <th>Heure</th>
          <th>Durée (en h)</th>
          <th>Niveau minimum requis</th>
          <th>Nombre de cavaliers max</th>
          <th>Moniteur</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr th:each="cours : ${cours}">
          <td th:text="${cours.discipline}"></td>
          <td th:text="${cours.date}"></td>
          <td th:text="${cours.heure}"></td>
          <td th:text="${cours.duree_cours}"></td>
          <td th:text="${cours.niveau_requis}"></td>
          <td th:text="${cours.nbr_cavalier_max}"></td>
          <td th:text="${cours.motineur}"></td>
          <td>
            <a th:href="@{/cours/editCours/{id}(id=${cours.id_cours})}"
              >Modifier</a
            >
            <a th:href="@{/cours/delete/{id}(id=${cours.id_cours})}"
              >Supprimer</a
            >
            <a th:href="@{/cours/{id}/sesCavaliers(id=${cours.id_cours})}"
              >Liste des cavaliers inscris</a
            >
          </td>
        </tr>
      </tbody>
    </table>

    <div class="add-button-container">
      <a th:href="@{/cours/addCours}" class="custom-button">Ajouter un cours</a>

      <input type="file" id="fileInput" accept=".csv" style="display: none" />
      <a id="importCSVButton" class="custom-button"
        >Ajouter plusieurs cours (depuis un fichier csv)</a
      >
      <button
        id="validateCSVButton"
        class="custom-button"
        style="display: none"
      >
        Valider
      </button>
      <div id="fileNameDisplay" style="display: none"></div>
    </div>

    <div class="retour">
      <a th:href="@{/}" class="custom-button">Retour à l'accueil</a>
    </div>
  </body>
</html>
